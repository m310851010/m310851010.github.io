import{a as T}from"./chunk-QUW5EE4O.js";import{Ab as V,Cb as j,K as R,X as w,da as F,ja as a,k as y,la as v,rb as S,s as I,ua as D,w as b,wa as p}from"./chunk-ISXIYAUZ.js";var l={schedule(n,e){let t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return l.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return l.schedule(n,16);let e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};function x(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function k(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}function z(n){return typeof n=="function"}var f;function A(n,e){if(!f){let t=Element.prototype;f=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE?f.call(n,e):!1}function P(n,e){return n===e||n!==n&&e!==e}function _(n){let e={};return n.forEach(({propName:t,templateName:s,transform:i})=>{e[x(s)]=[t,i]}),e}function L(n,e){return e.get(p).resolveComponentFactory(n).inputs}function q(n,e){let t=n.childNodes,s=e.map(()=>[]),i=-1;e.some((o,r)=>o==="*"?(i=r,!0):!1);for(let o=0,r=t.length;o<r;++o){let h=t[o],c=N(h,e,i);c!==-1&&s[c].push(h)}return s}function N(n,e,t){let s=t;return k(n)&&e.some((i,o)=>i!=="*"&&A(n,i)?(s=o,!0):!1),s}var B=10,d=class{constructor(e,t){this.componentFactory=t.get(p).resolveComponentFactory(e)}create(e){return new g(this.componentFactory,e)}},g=class{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new y(1),this.events=this.eventEmitters.pipe(R(s=>b(...s))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:s})=>s)),this.ngZone=this.injector.get(v),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(this.scheduledDestroyFn!==null){this.scheduledDestroyFn(),this.scheduledDestroyFn=null;return}this.componentRef===null&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{this.componentRef===null||this.scheduledDestroyFn!==null||(this.scheduledDestroyFn=l.schedule(()=>{this.componentRef!==null&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},B))})}getInputValue(e){return this.runInZone(()=>this.componentRef===null?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t,s){this.runInZone(()=>{var i;if(s&&(t=s.call((i=this.componentRef)==null?void 0:i.instance,t)),this.componentRef===null){this.initialInputValues.set(e,t);return}P(t,this.getInputValue(e))&&!(t===void 0&&this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges())})}initializeComponent(e){let t=a.create({providers:[],parent:this.injector}),s=q(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,s,e),this.viewChangeDetectorRef=this.componentRef.injector.get(j),this.implementsOnChanges=z(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(V).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)}),this.initialInputValues.clear()}initializeOutputs(e){let t=this.componentFactory.outputs.map(({propName:s,templateName:i})=>e.instance[s].pipe(I(r=>({name:i,value:r}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||this.inputChanges===null)return;let t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=l.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;this.inputChanges===null&&(this.inputChanges={});let s=this.inputChanges[e];if(s){s.currentValue=t;return}let i=this.unchangedInputs.has(e),o=i?void 0:this.getInputValue(e);this.inputChanges[e]=new F(o,t,i)}detectChanges(){this.componentRef!==null&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}},C=class extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}};function O(n,e){let t=L(n,e.injector),s=e.strategyFactory||new d(n,e.injector),i=_(t),r=class r extends C{get ngElementStrategy(){if(!this._ngElementStrategy){let c=this._ngElementStrategy=s.create(this.injector||e.injector);t.forEach(({propName:u,transform:m})=>{if(!this.hasOwnProperty(u))return;let E=this[u];delete this[u],c.setInputValue(u,E,m)})}return this._ngElementStrategy}constructor(c){super(),this.injector=c}attributeChangedCallback(c,u,m,E){let[Z,M]=i[c];this.ngElementStrategy.setInputValue(Z,m,M)}connectedCallback(){let c=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),c=!0),this.ngElementStrategy.connect(this),c||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(c=>{let u=new CustomEvent(c.name,{detail:c.value});this.dispatchEvent(u)})}};r.observedAttributes=Object.keys(i);let o=r;return t.forEach(({propName:h,transform:c})=>{Object.defineProperty(o.prototype,h,{get(){return this.ngElementStrategy.getInputValue(h)},set(u){this.ngElementStrategy.setInputValue(h,u,c)},configurable:!0,enumerable:!0})}),o}var W=(()=>{let e=class e{constructor(s){let i="ui-viewer";if(!customElements.get(i)){let o=O(T,{injector:s});customElements.define(i,o)}}};e.\u0275fac=function(i){return new(i||e)(D(a))},e.\u0275cmp=w({type:e,selectors:[["q-wc-root"]],standalone:!0,features:[S],decls:0,vars:0,template:function(i,o){},encapsulation:2});let n=e;return n})();export{W as WcAppComponent};
