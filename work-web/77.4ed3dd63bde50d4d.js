"use strict";(self.webpackChunkwork_web=self.webpackChunkwork_web||[]).push([[77],{8292:(K,P,e)=>{e.r(P),e.d(P,{RouteLayoutModule:()=>d});var o=e(800),f=e(8741),b=e(4319),h=e(2019);(0,h.X$)("fadeAnimation",[(0,h.eR)(":enter",[(0,h.oB)({transform:"scale3d(1.075, 1.075, 1)",opacity:0}),(0,h.jt)("250ms ease-out",(0,h.oB)({transform:"scale3d(1, 1, 1)",opacity:1}))]),(0,h.eR)(":leave",[(0,h.jt)("250ms ease-out",(0,h.oB)({transform:"scale3d(0.95, 0.95, 1)",opacity:0}))])]);const v=(0,h.X$)("fadeRouteAnimation",[(0,h.eR)("*<=>*",[(0,h.oB)({opacity:0,"will-change":"transform"}),(0,h.jt)("0.3s ease-in",(0,h.oB)({opacity:1,"will-change":"transform"}))])]);var M=e(4970),y=e(4882),_=e(8168),B=e(7969),R=e(3528),T=e(1048),z=e(6737),t=e(9724),N=e(7426),L=e(4800),Z=e(7169),x=e(7730),D=e(2464),U=e(8918),E=e(4389),O=e(1062);function F(n,c){if(1&n){const a=t.EpF();t.TgZ(0,"div",14),t._uU(1),t.TgZ(2,"i",15),t.NdJ("click",function(){t.CHM(a);const i=t.oxw().index;return t.oxw().clickCloseIcon({index:i})}),t.qZA()()}if(2&n){const a=t.oxw().$implicit;t.xp6(1),t.hij(" ",a.title," "),t.xp6(1),t.Q6J("nzType","close")}}function J(n,c){if(1&n){const a=t.EpF();t.TgZ(0,"nz-tab",2),t.NdJ("nzClick",function(){const l=t.CHM(a).$implicit;return t.oxw().goPage(l)})("nzContextmenu",function(i){t.CHM(a);const l=t.MAs(4);return t.oxw().contextMenu(i,l)}),t.YNc(1,F,3,2,"ng-template",null,3,t.W1O),t.TgZ(3,"nz-dropdown-menu",null,4)(5,"ul",5)(6,"li",6),t.NdJ("click",function(){return t.CHM(a),t.oxw().refresh()}),t.TgZ(7,"span",7),t._UZ(8,"i",8),t.TgZ(9,"span",9),t._uU(10,"\u5237\u65b0"),t.qZA()()(),t.TgZ(11,"li",6),t.NdJ("click",function(i){const l=t.CHM(a),m=l.$implicit,p=l.index;return t.oxw().closeTab(m,i,p)}),t.TgZ(12,"span",7),t._UZ(13,"i",10),t.TgZ(14,"span",9),t._uU(15,"\u5173\u95ed"),t.qZA()()(),t.TgZ(16,"li",6),t.NdJ("click",function(i){const l=t.CHM(a),m=l.$implicit,p=l.index;return t.oxw().closeOtherTab(m,i,p)}),t.TgZ(17,"span",7),t._UZ(18,"i",11),t.TgZ(19,"span",9),t._uU(20,"\u5173\u95ed\u5176\u4ed6"),t.qZA()()(),t.TgZ(21,"li",6),t.NdJ("click",function(i){const l=t.CHM(a),m=l.$implicit,p=l.index;return t.oxw().closeLeftTab(m,i,p)}),t.TgZ(22,"span",7),t._UZ(23,"i",12),t.TgZ(24,"span",9),t._uU(25,"\u5173\u95ed\u5de6\u4fa7"),t.qZA()()(),t.TgZ(26,"li",6),t.NdJ("click",function(i){const l=t.CHM(a),m=l.$implicit,p=l.index;return t.oxw().closeRithTab(m,i,p)}),t.TgZ(27,"span",7),t._UZ(28,"i",13),t.TgZ(29,"span",9),t._uU(30,"\u5173\u95ed\u53f3\u4fa7"),t.qZA()()()()()()}if(2&n){const a=c.$implicit,r=c.index,i=t.MAs(2),l=t.oxw();t.Q6J("nzTitle",i),t.xp6(6),t.Q6J("nzDisabled",l.router.url!==a.path),t.xp6(5),t.Q6J("nzDisabled",l.tabsSourceData.length-1==0),t.xp6(5),t.Q6J("nzDisabled",l.tabsSourceData.length-1==0),t.xp6(5),t.Q6J("nzDisabled",0===r),t.xp6(5),t.Q6J("nzDisabled",l.tabsSourceData.length-1===r)}}let S=(()=>{class n{constructor(a,r,i,l,m){this.tabService=a,this.nzContextMenuService=r,this.destroy$=i,this.router=l,this.cdr=m,this.isCollapsed=!0,this.tabsSourceData=[],this.tabsSourceData$=this.tabService.getTabArray$(),this.router.events.pipe((0,M.h)(p=>p instanceof b.m2)).subscribe(p=>{this.cdr.markForCheck()})}get currentIndex(){return this.tabService.getCurrentTabIndex()}ngOnInit(){this.tabsSourceData$.pipe((0,R.R)(this.destroy$)).subscribe(a=>{this.tabsSourceData=a})}trackByTab(a,r){return r.title}goPage(a){this.router.navigateByUrl(a.path)}closeRithTab(a,r,i){(0,x.jJ)(r),this.tabService.delRightTab(a.path,i)}closeLeftTab(a,r,i){0!==i&&((0,x.jJ)(r),this.tabService.delLeftTab(a.path,i))}closeOtherTab(a,r,i){(0,x.jJ)(r),this.tabService.delOtharTab(a.path,i)}closeTab(a,r,i){(0,x.jJ)(r),this.closeCurrentTab(a,i)}clickCloseIcon(a){this.closeCurrentTab(this.tabsSourceData[a.index],a.index)}closeCurrentTab(a,r){1!==this.tabsSourceData.length&&this.tabService.delTab(a,r)}refresh(){this.tabService.refresh()}contextMenu(a,r){this.nzContextMenuService.create(a,r)}closeMenu(){this.nzContextMenuService.close()}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(z.pr),t.Y36(D.Iw),t.Y36(z.z2),t.Y36(b.F0),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tab"]],inputs:{isCollapsed:"isCollapsed"},features:[t._Bn([z.z2])],decls:3,vars:7,consts:[["nzSize","small",1,"layout-content",3,"nzAnimated","nzSelectedIndex","nzTabPosition"],["nzClosable","",3,"nzTitle","nzClick","nzContextmenu",4,"ngFor","ngForOf","ngForTrackBy"],["nzClosable","",3,"nzTitle","nzClick","nzContextmenu"],["titleTemplate",""],["menu","nzDropdownMenu"],["nz-menu","",1,"tabs-dropdown-menu"],["nz-menu-item","",3,"nzDisabled","click"],["title",""],["nz-icon","","nzType","reload"],[1,"nav-text"],["nz-icon","","nzType","close"],["nz-icon","","nzType","pic-center"],["nz-icon","","nzType","vertical-left"],["nz-icon","","nzType","vertical-right"],[1,"tab-closeable"],["nz-icon","",3,"nzType","click"]],template:function(a,r){1&a&&(t.TgZ(0,"nz-tabset",0),t.YNc(1,J,31,6,"nz-tab",1),t.ALo(2,"async"),t.qZA()),2&a&&(t.Q6J("nzAnimated",!1)("nzSelectedIndex",r.currentIndex)("nzTabPosition","top"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,5,r.tabsSourceData$))("ngForTrackBy",r.trackByTab))},directives:[f.xH,T.sg,f.xw,U.w,E.Ls,D.RR,O.wO,O.r9],pipes:[T.Ov],styles:["[_nghost-%COMP%]     .ant-tabs{background-color:#fff}[_nghost-%COMP%]     .ant-tabs-tab{padding-left:15px!important;margin:0}[_nghost-%COMP%]     .ant-tabs-nav{margin-bottom:0!important}[_nghost-%COMP%]     .ant-tabs-tab:hover .anticon, [_nghost-%COMP%]     .ant-tabs-tab.ant-tabs-tab-active .anticon{display:inline-block!important}[_nghost-%COMP%]     .ant-tabs-tab .anticon{font-size:12px;position:absolute;top:11px;right:7px;color:#333;margin-right:0;display:none}[_nghost-%COMP%]     .ant-tabs-tab .anticon:hover{color:#ff4d4f}.tab-closeable[_ngcontent-%COMP%]{padding-right:30px}.tabs-dropdown-menu[_ngcontent-%COMP%]{width:220px}.nav-text[_ngcontent-%COMP%]{margin-left:10px}"],changeDetection:0}),n})();function A(n,c){if(1&n&&t._UZ(0,"app-tab",5),2&n){const a=t.oxw();t.Q6J("isCollapsed",a.isCollapsed)}}const W=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"",component:(()=>{class n{constructor(a,r,i,l,m,p,C,g){this.menuService=a,this.router=r,this.activatedRoute=i,this.destroy$=l,this.tabService=m,this.titleServe=p,this.cdr=C,this.doc=g,this.isCollapsed=!1,this.routerPath=this.router.url,this.hideSidebar=!1,this.router.events.pipe((0,M.h)(u=>u instanceof b.m2),(0,y.z)(u=>(this.routerPath=this.activatedRoute.snapshot._routerState.url,this.menuService.getMenus().pipe((0,_.b)($=>{this.clickMenuItem($)}),(0,B.U)(()=>u)))),(0,B.U)(()=>this.activatedRoute),(0,B.U)(u=>{for(;u.firstChild;)u=u.firstChild;return u}),(0,M.h)(u=>"primary"===u.outlet),(0,y.z)(u=>u.data),(0,R.R)(this.destroy$)).subscribe(u=>{this.hideSidebar=u.hideSidebar,u.hideInTab||(this.tabService.addTab({title:u.title,path:this.routerPath,relatedLink:u.relatedLink?u.relatedLink:[]},u.newTab),this.tabService.findIndex(this.routerPath),this.titleServe.setTitle(`\u5e73\u53f0 - ${u.title}`))})}ngOnInit(){}handleMenuClick(a){}prepareRoute(a){var r;return null===(r=null==a?void 0:a.activatedRouteData)||void 0===r?void 0:r.key}clickMenuItem(a){if(!a)return;const r=-1===this.routerPath.indexOf("?")?this.routerPath.length:this.routerPath.indexOf("?"),i=this.routerPath.substring(0,r);this.flatMenu(a,i)}flatMenu(a,r){const i=[];let l=!1;const m=(p,C)=>{p.forEach(g=>{!C&&!l&&(i.length=0),l||i.push(g),g.selected=!1,g.open=!1,g.url&&r.includes(g.url)&&(g.selected=!0,g.open=!0,l=!0),g.children&&g.children.length>0&&m(g.children,!0)})};m(a),l&&i.forEach(p=>p.open=!0)}}return n.\u0275fac=function(a){return new(a||n)(t.Y36(N.v),t.Y36(b.F0),t.Y36(b.gz),t.Y36(z.z2),t.Y36(z.pr),t.Y36(L.Dx),t.Y36(t.sBO),t.Y36(T.K0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["np-route-layout"]],features:[t._Bn([z.z2])],decls:6,vars:5,consts:[[3,"outerMargin","innerPadding","showSidebar","menuClick","collapseChange"],[1,"nav-content-wrapper"],[3,"isCollapsed",4,"ngIf"],[1,"route-outer"],["outlet","outlet"],[3,"isCollapsed"]],template:function(a,r){if(1&a&&(t.TgZ(0,"np-base-layout",0),t.NdJ("menuClick",function(l){return r.handleMenuClick(l)})("collapseChange",function(l){return r.isCollapsed=l}),t.TgZ(1,"div",1),t.YNc(2,A,1,1,"app-tab",2),t.TgZ(3,"div",3),t._UZ(4,"router-outlet",null,4),t.qZA()()()),2&a){const i=t.MAs(5);t.Q6J("outerMargin",null)("innerPadding",null)("showSidebar",!r.hideSidebar),t.xp6(2),t.Q6J("ngIf",!r.hideSidebar),t.xp6(1),t.Q6J("@fadeRouteAnimation",r.prepareRoute(i))}},directives:[Z.i,T.O5,S,b.lC],styles:["[_nghost-%COMP%]   .nav-breadcrumb[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:8px;margin-bottom:5px;background-color:#fff}[_nghost-%COMP%]   .nav-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .nav-content-wrapper[_ngcontent-%COMP%]   .route-outer[_ngcontent-%COMP%]{flex:1;height:0;overflow:auto}"],data:{animation:[v]}}),n})(),data:{shouldDetach:"no"},children:[{path:"home",loadChildren:()=>Promise.all([e.e(592),e.e(291)]).then(e.bind(e,8291)).then(n=>n.HomeModule)},{path:"energy",loadChildren:()=>Promise.all([e.e(879),e.e(0),e.e(592),e.e(862)]).then(e.bind(e,2862)).then(n=>n.EnergyModule)},{path:"assets",loadChildren:()=>Promise.all([e.e(879),e.e(775),e.e(266),e.e(592),e.e(9)]).then(e.bind(e,8009)).then(n=>n.AssetsModule)},{path:"alarm",loadChildren:()=>Promise.all([e.e(592),e.e(196)]).then(e.bind(e,9196)).then(n=>n.AlarmModule)},{path:"ticket",loadChildren:()=>Promise.all([e.e(0),e.e(266),e.e(80)]).then(e.bind(e,4080)).then(n=>n.TicketModule)},{path:"data-board",loadChildren:()=>Promise.all([e.e(879),e.e(775),e.e(592),e.e(30)]).then(e.bind(e,6030)).then(n=>n.DataBoardModule)},{path:"report",loadChildren:()=>Promise.all([e.e(879),e.e(376)]).then(e.bind(e,7376)).then(n=>n.ReportModule)},{path:"platform",loadChildren:()=>Promise.all([e.e(879),e.e(93)]).then(e.bind(e,9093)).then(n=>n.PlatformModule)}]}];let Y=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[b.Bz.forChild(W)],b.Bz]}),n})();var s=e(6619);let d=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[o.x,Y,f.we,s.lt,E.PV]]}),n})()},6619:(K,P,e)=>{e.d(P,{Dg:()=>j,MO:()=>A,lt:()=>Y});var o=e(9724),f=e(1048),b=e(2464),h=e(4389),I=e(3359),Q=e(4762),v=e(4319),M=e(8023),y=e(3528),_=e(4970),B=e(1927),R=e(6875),T=e(7730),z=e(497),t=e(403),N=e(3574);function L(s,d){}function Z(s,d){1&s&&o._UZ(0,"i",6)}function x(s,d){if(1&s&&(o.ynx(0),o.TgZ(1,"span",3),o.YNc(2,L,0,0,"ng-template",4),o.YNc(3,Z,1,0,"i",5),o.qZA(),o.BQk()),2&s){const n=o.oxw(),c=o.MAs(2);o.xp6(1),o.Q6J("nzDropdownMenu",n.nzOverlay),o.xp6(1),o.Q6J("ngTemplateOutlet",c),o.xp6(1),o.Q6J("ngIf",!!n.nzOverlay)}}function D(s,d){1&s&&(o.TgZ(0,"span",7),o.Hsn(1),o.qZA())}function U(s,d){if(1&s&&(o.ynx(0),o._uU(1),o.BQk()),2&s){const n=o.oxw(2);o.xp6(1),o.hij(" ",n.nzBreadCrumbComponent.nzSeparator," ")}}function E(s,d){if(1&s&&(o.TgZ(0,"span",8),o.YNc(1,U,2,1,"ng-container",9),o.qZA()),2&s){const n=o.oxw();o.xp6(1),o.Q6J("nzStringTemplateOutlet",n.nzBreadCrumbComponent.nzSeparator)}}const O=["*"];function F(s,d){if(1&s){const n=o.EpF();o.TgZ(0,"nz-breadcrumb-item")(1,"a",2),o.NdJ("click",function(a){const i=o.CHM(n).$implicit;return o.oxw(2).navigate(i.url,a)}),o._uU(2),o.qZA()()}if(2&s){const n=d.$implicit;o.xp6(1),o.uIk("href",n.url,o.LSH),o.xp6(1),o.Oqu(n.label)}}function J(s,d){if(1&s&&(o.ynx(0),o.YNc(1,F,3,2,"nz-breadcrumb-item",1),o.BQk()),2&s){const n=o.oxw();o.xp6(1),o.Q6J("ngForOf",n.breadcrumbs)}}class S{}let A=(()=>{class s{constructor(n){this.nzBreadCrumbComponent=n}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(S))},s.\u0275cmp=o.Xpm({type:s,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],ngContentSelectors:O,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["noMenuTpl",""],["class","ant-breadcrumb-separator",4,"ngIf"],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","down"],[1,"ant-breadcrumb-link"],[1,"ant-breadcrumb-separator"],[4,"nzStringTemplateOutlet"]],template:function(n,c){if(1&n&&(o.F$t(),o.YNc(0,x,4,3,"ng-container",0),o.YNc(1,D,2,0,"ng-template",null,1,o.W1O),o.YNc(3,E,2,1,"span",2)),2&n){const a=o.MAs(2);o.Q6J("ngIf",!!c.nzOverlay)("ngIfElse",a),o.xp6(3),o.Q6J("ngIf",c.nzBreadCrumbComponent.nzSeparator)}},directives:[f.O5,b.cm,f.tP,h.Ls,I.f],encapsulation:2,changeDetection:0}),s})(),j=(()=>{class s{constructor(n,c,a,r,i){this.injector=n,this.cdr=c,this.elementRef=a,this.renderer=r,this.directionality=i,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.nzRouteLabelFn=l=>l,this.breadcrumbs=[],this.dir="ltr",this.destroy$=new M.x,r.addClass(a.nativeElement,"ant-breadcrumb")}ngOnInit(){var n;this.nzAutoGenerate&&this.registerRouterChange(),null===(n=this.directionality.change)||void 0===n||n.pipe((0,y.R)(this.destroy$)).subscribe(c=>{this.dir=c,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigate(n,c){c.preventDefault(),this.injector.get(v.F0).navigateByUrl(n)}registerRouterChange(){try{const n=this.injector.get(v.F0),c=this.injector.get(v.gz);n.events.pipe((0,_.h)(a=>a instanceof v.m2),(0,y.R)(this.destroy$),(0,B.O)(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(c.root),this.cdr.markForCheck()})}catch(n){throw new Error(`${R.Bq} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(n,c="",a=[]){const r=n.children;if(0===r.length)return a;for(const i of r)if(i.outlet===v.eC){const l=i.snapshot.url.map(C=>C.path).filter(C=>C).join("/"),m=l?`${c}/${l}`:c,p=this.nzRouteLabelFn(i.snapshot.data[this.nzRouteLabel]);return l&&p&&a.push({label:p,params:i.snapshot.params,url:m}),this.getBreadcrumbs(i,m,a)}return a}prepareComponentForRtl(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}}return s.\u0275fac=function(n){return new(n||s)(o.Y36(o.zs3),o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(z.Is,8))},s.\u0275cmp=o.Xpm({type:s,selectors:[["nz-breadcrumb"]],inputs:{nzAutoGenerate:"nzAutoGenerate",nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn"},exportAs:["nzBreadcrumb"],features:[o._Bn([{provide:S,useExisting:s}])],ngContentSelectors:O,decls:2,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(n,c){1&n&&(o.F$t(),o.Hsn(0),o.YNc(1,J,2,1,"ng-container",0)),2&n&&(o.xp6(1),o.Q6J("ngIf",c.nzAutoGenerate&&c.breadcrumbs.length))},directives:[A,f.O5,f.sg],encapsulation:2,changeDetection:0}),(0,Q.gn)([(0,T.yF)()],s.prototype,"nzAutoGenerate",void 0),s})(),Y=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=o.oAB({type:s}),s.\u0275inj=o.cJS({imports:[[f.ez,I.T,t.U8,N.e4,b.b1,h.PV],z.vT]}),s})()}}]);