"use strict";(self.webpackChunkwork_web=self.webpackChunkwork_web||[]).push([[268],{9268:(K,P,e)=>{e.r(P),e.d(P,{RouteLayoutModule:()=>l});var n=e(800),f=e(8741),b=e(4319),C=e(2019);(0,C.X$)("fadeAnimation",[(0,C.eR)(":enter",[(0,C.oB)({transform:"scale3d(1.075, 1.075, 1)",opacity:0}),(0,C.jt)("250ms ease-out",(0,C.oB)({transform:"scale3d(1, 1, 1)",opacity:1}))]),(0,C.eR)(":leave",[(0,C.jt)("250ms ease-out",(0,C.oB)({transform:"scale3d(0.95, 0.95, 1)",opacity:0}))])]);const v=(0,C.X$)("fadeRouteAnimation",[(0,C.eR)("*<=>*",[(0,C.oB)({opacity:0,"will-change":"transform"}),(0,C.jt)("0.3s ease-in",(0,C.oB)({opacity:1,"will-change":"transform"}))])]);var M=e(4970),y=e(4882),I=e(8168),_=e(7969),R=e(3528),B=e(1048),z=e(6737),t=e(9724),L=e(7426),N=e(4800),Z=e(7169),x=e(7730),D=e(2464),U=e(8918),E=e(4389),O=e(1062);function F(o,u){if(1&o){const a=t.EpF();t.TgZ(0,"div",14),t._uU(1),t.TgZ(2,"i",15),t.NdJ("click",function(){t.CHM(a);const i=t.oxw().index;return t.oxw().clickCloseIcon({index:i})}),t.qZA()()}if(2&o){const a=t.oxw().$implicit;t.xp6(1),t.hij(" ",a.title," "),t.xp6(1),t.Q6J("nzType","close")}}function J(o,u){if(1&o){const a=t.EpF();t.TgZ(0,"nz-tab",2),t.NdJ("nzClick",function(){const c=t.CHM(a).$implicit;return t.oxw().goPage(c)})("nzContextmenu",function(i){t.CHM(a);const c=t.MAs(4);return t.oxw().contextMenu(i,c)}),t.YNc(1,F,3,2,"ng-template",null,3,t.W1O),t.TgZ(3,"nz-dropdown-menu",null,4)(5,"ul",5)(6,"li",6),t.NdJ("click",function(){return t.CHM(a),t.oxw().refresh()}),t.TgZ(7,"span",7),t._UZ(8,"i",8),t.TgZ(9,"span",9),t._uU(10,"\u5237\u65b0"),t.qZA()()(),t.TgZ(11,"li",6),t.NdJ("click",function(i){const c=t.CHM(a),p=c.$implicit,d=c.index;return t.oxw().closeTab(p,i,d)}),t.TgZ(12,"span",7),t._UZ(13,"i",10),t.TgZ(14,"span",9),t._uU(15,"\u5173\u95ed"),t.qZA()()(),t.TgZ(16,"li",6),t.NdJ("click",function(i){const c=t.CHM(a),p=c.$implicit,d=c.index;return t.oxw().closeOtherTab(p,i,d)}),t.TgZ(17,"span",7),t._UZ(18,"i",11),t.TgZ(19,"span",9),t._uU(20,"\u5173\u95ed\u5176\u4ed6"),t.qZA()()(),t.TgZ(21,"li",6),t.NdJ("click",function(i){const c=t.CHM(a),p=c.$implicit,d=c.index;return t.oxw().closeLeftTab(p,i,d)}),t.TgZ(22,"span",7),t._UZ(23,"i",12),t.TgZ(24,"span",9),t._uU(25,"\u5173\u95ed\u5de6\u4fa7"),t.qZA()()(),t.TgZ(26,"li",6),t.NdJ("click",function(i){const c=t.CHM(a),p=c.$implicit,d=c.index;return t.oxw().closeRithTab(p,i,d)}),t.TgZ(27,"span",7),t._UZ(28,"i",13),t.TgZ(29,"span",9),t._uU(30,"\u5173\u95ed\u53f3\u4fa7"),t.qZA()()()()()()}if(2&o){const a=u.$implicit,r=u.index,i=t.MAs(2),c=t.oxw();t.Q6J("nzTitle",i),t.xp6(6),t.Q6J("nzDisabled",c.router.url!==a.path),t.xp6(5),t.Q6J("nzDisabled",c.tabsSourceData.length-1==0),t.xp6(5),t.Q6J("nzDisabled",c.tabsSourceData.length-1==0),t.xp6(5),t.Q6J("nzDisabled",0===r),t.xp6(5),t.Q6J("nzDisabled",c.tabsSourceData.length-1===r)}}let A=(()=>{class o{constructor(a,r,i,c,p){this.tabService=a,this.nzContextMenuService=r,this.destroy$=i,this.router=c,this.cdr=p,this.isCollapsed=!0,this.tabsSourceData=[],this.tabsSourceData$=this.tabService.getTabArray$(),this.router.events.pipe((0,M.h)(d=>d instanceof b.m2)).subscribe(d=>{this.cdr.markForCheck()})}get currentIndex(){return this.tabService.getCurrentTabIndex()}ngOnInit(){this.tabsSourceData$.pipe((0,R.R)(this.destroy$)).subscribe(a=>{this.tabsSourceData=a})}trackByTab(a,r){return r.title}goPage(a){this.router.navigateByUrl(a.path)}closeRithTab(a,r,i){(0,x.jJ)(r),this.tabService.delRightTab(a.path,i)}closeLeftTab(a,r,i){0!==i&&((0,x.jJ)(r),this.tabService.delLeftTab(a.path,i))}closeOtherTab(a,r,i){(0,x.jJ)(r),this.tabService.delOtharTab(a.path,i)}closeTab(a,r,i){(0,x.jJ)(r),this.closeCurrentTab(a,i)}clickCloseIcon(a){this.closeCurrentTab(this.tabsSourceData[a.index],a.index)}closeCurrentTab(a,r){1!==this.tabsSourceData.length&&this.tabService.delTab(a,r)}refresh(){this.tabService.refresh()}contextMenu(a,r){this.nzContextMenuService.create(a,r)}closeMenu(){this.nzContextMenuService.close()}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(z.pr),t.Y36(D.Iw),t.Y36(z.z2),t.Y36(b.F0),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-tab"]],inputs:{isCollapsed:"isCollapsed"},features:[t._Bn([z.z2])],decls:3,vars:7,consts:[["nzSize","small",1,"layout-content",3,"nzAnimated","nzSelectedIndex","nzTabPosition"],["nzClosable","",3,"nzTitle","nzClick","nzContextmenu",4,"ngFor","ngForOf","ngForTrackBy"],["nzClosable","",3,"nzTitle","nzClick","nzContextmenu"],["titleTemplate",""],["menu","nzDropdownMenu"],["nz-menu","",1,"tabs-dropdown-menu"],["nz-menu-item","",3,"nzDisabled","click"],["title",""],["nz-icon","","nzType","reload"],[1,"nav-text"],["nz-icon","","nzType","close"],["nz-icon","","nzType","pic-center"],["nz-icon","","nzType","vertical-left"],["nz-icon","","nzType","vertical-right"],[1,"tab-closeable"],["nz-icon","",3,"nzType","click"]],template:function(a,r){1&a&&(t.TgZ(0,"nz-tabset",0),t.YNc(1,J,31,6,"nz-tab",1),t.ALo(2,"async"),t.qZA()),2&a&&(t.Q6J("nzAnimated",!1)("nzSelectedIndex",r.currentIndex)("nzTabPosition","top"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,5,r.tabsSourceData$))("ngForTrackBy",r.trackByTab))},directives:[f.xH,B.sg,f.xw,U.w,E.Ls,D.RR,O.wO,O.r9],pipes:[B.Ov],styles:["[_nghost-%COMP%]     .ant-tabs{background-color:#fff}[_nghost-%COMP%]     .ant-tabs-tab{padding-left:15px!important;margin:0}[_nghost-%COMP%]     .ant-tabs-nav{margin-bottom:0!important}[_nghost-%COMP%]     .ant-tabs-tab:hover .anticon, [_nghost-%COMP%]     .ant-tabs-tab.ant-tabs-tab-active .anticon{display:inline-block!important}[_nghost-%COMP%]     .ant-tabs-tab .anticon{font-size:12px;position:absolute;top:11px;right:7px;color:#333;margin-right:0;display:none}[_nghost-%COMP%]     .ant-tabs-tab .anticon:hover{color:#ff4d4f}.tab-closeable[_ngcontent-%COMP%]{padding-right:30px}.tabs-dropdown-menu[_ngcontent-%COMP%]{width:220px}.nav-text[_ngcontent-%COMP%]{margin-left:10px}"],changeDetection:0}),o})();const $=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"",component:(()=>{class o{constructor(a,r,i,c,p,d,T,g){this.menuService=a,this.router=r,this.activatedRoute=i,this.destroy$=c,this.tabService=p,this.titleServe=d,this.cdr=T,this.doc=g,this.isCollapsed=!1,this.routerPath=this.router.url,this.router.events.pipe((0,M.h)(h=>h instanceof b.m2),(0,y.z)(h=>(this.routerPath=this.activatedRoute.snapshot._routerState.url,console.log(this.routerPath),this.menuService.getMenus().pipe((0,I.b)(Q=>{this.clickMenuItem(Q)}),(0,_.U)(()=>h)))),(0,_.U)(()=>this.activatedRoute),(0,_.U)(h=>{for(;h.firstChild;)h=h.firstChild;return h}),(0,M.h)(h=>"primary"===h.outlet),(0,y.z)(h=>h.data),(0,R.R)(this.destroy$)).subscribe(h=>{this.tabService.addTab({title:h.title,path:this.routerPath,relatedLink:h.relatedLink?h.relatedLink:[]},"true"===h.newTab),this.tabService.findIndex(this.routerPath),this.titleServe.setTitle(`\u5e73\u53f0 - ${h.title}`)})}ngOnInit(){}handleMenuClick(a){}prepareRoute(a){var r;return null===(r=null==a?void 0:a.activatedRouteData)||void 0===r?void 0:r.key}clickMenuItem(a){if(!a)return;const r=-1===this.routerPath.indexOf("?")?this.routerPath.length:this.routerPath.indexOf("?"),i=this.routerPath.substring(0,r);this.flatMenu(a,i)}flatMenu(a,r){const i=[];let c=!1;const p=(d,T)=>{d.forEach(g=>{!T&&!c&&(i.length=0),c||i.push(g),g.selected=!1,g.open=!1,g.url&&r.includes(g.url)&&(g.selected=!0,g.open=!0,c=!0),g.children&&g.children.length>0&&p(g.children,!0)})};p(a),c&&i.forEach(d=>d.open=!0)}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(L.v),t.Y36(b.F0),t.Y36(b.gz),t.Y36(z.z2),t.Y36(z.pr),t.Y36(N.Dx),t.Y36(t.sBO),t.Y36(B.K0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["np-route-layout"]],features:[t._Bn([z.z2])],decls:6,vars:4,consts:[[3,"outerMargin","innerPadding","menuClick","collapseChange"],[1,"nav-content-wrapper"],[3,"isCollapsed"],[1,"route-outer"],["outlet","outlet"]],template:function(a,r){if(1&a&&(t.TgZ(0,"np-base-layout",0),t.NdJ("menuClick",function(c){return r.handleMenuClick(c)})("collapseChange",function(c){return r.isCollapsed=c}),t.TgZ(1,"div",1),t._UZ(2,"app-tab",2),t.TgZ(3,"div",3),t._UZ(4,"router-outlet",null,4),t.qZA()()()),2&a){const i=t.MAs(5);t.Q6J("outerMargin",null)("innerPadding",null),t.xp6(2),t.Q6J("isCollapsed",r.isCollapsed),t.xp6(1),t.Q6J("@fadeRouteAnimation",r.prepareRoute(i))}},directives:[Z.i,A,b.lC],styles:["[_nghost-%COMP%]   .nav-breadcrumb[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:8px;margin-bottom:5px;background-color:#fff}[_nghost-%COMP%]   .nav-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .nav-content-wrapper[_ngcontent-%COMP%]   .route-outer[_ngcontent-%COMP%]{flex:1;height:0;overflow:auto}"],data:{animation:[v]}}),o})(),data:{shouldDetach:"no"},children:[{path:"home",loadChildren:()=>Promise.all([e.e(592),e.e(291)]).then(e.bind(e,8291)).then(o=>o.HomeModule)},{path:"energy",children:[{path:"consumption-analysis",loadChildren:()=>Promise.all([e.e(592),e.e(90)]).then(e.bind(e,7090)).then(o=>o.ConsumptionAnalysisModule)}]},{path:"monitor",children:[{path:"lobby-information",loadChildren:()=>Promise.all([e.e(470),e.e(633)]).then(e.bind(e,2633)).then(o=>o.LobbyInformationModule)},{path:"data-monitor",loadChildren:()=>Promise.all([e.e(592),e.e(541)]).then(e.bind(e,541)).then(o=>o.DataMonitorModule)},{path:"maintenance-log",loadChildren:()=>e.e(281).then(e.bind(e,3281)).then(o=>o.MaintenanceLogModule)},{path:"maintenance-parameters",loadChildren:()=>e.e(863).then(e.bind(e,5863)).then(o=>o.MaintenanceParametersModule)},{path:"pressure-information",loadChildren:()=>Promise.all([e.e(470),e.e(352)]).then(e.bind(e,3352)).then(o=>o.PressureInformationModule)}]},{path:"assets",loadChildren:()=>Promise.all([e.e(470),e.e(275),e.e(592),e.e(539)]).then(e.bind(e,7539)).then(o=>o.AssetsModule)}]}];let s=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[b.Bz.forChild($)],b.Bz]}),o})();var m=e(6619);let l=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[n.x,s,f.we,m.lt,E.PV]]}),o})()},6619:(K,P,e)=>{e.d(P,{Dg:()=>W,MO:()=>Y,lt:()=>$});var n=e(9724),f=e(1048),b=e(2464),C=e(4389),S=e(3359),j=e(4762),v=e(4319),M=e(8023),y=e(3528),I=e(4970),_=e(1927),R=e(6875),B=e(7730),z=e(497),t=e(403),L=e(3574);function N(s,m){}function Z(s,m){1&s&&n._UZ(0,"i",6)}function x(s,m){if(1&s&&(n.ynx(0),n.TgZ(1,"span",3),n.YNc(2,N,0,0,"ng-template",4),n.YNc(3,Z,1,0,"i",5),n.qZA(),n.BQk()),2&s){const l=n.oxw(),o=n.MAs(2);n.xp6(1),n.Q6J("nzDropdownMenu",l.nzOverlay),n.xp6(1),n.Q6J("ngTemplateOutlet",o),n.xp6(1),n.Q6J("ngIf",!!l.nzOverlay)}}function D(s,m){1&s&&(n.TgZ(0,"span",7),n.Hsn(1),n.qZA())}function U(s,m){if(1&s&&(n.ynx(0),n._uU(1),n.BQk()),2&s){const l=n.oxw(2);n.xp6(1),n.hij(" ",l.nzBreadCrumbComponent.nzSeparator," ")}}function E(s,m){if(1&s&&(n.TgZ(0,"span",8),n.YNc(1,U,2,1,"ng-container",9),n.qZA()),2&s){const l=n.oxw();n.xp6(1),n.Q6J("nzStringTemplateOutlet",l.nzBreadCrumbComponent.nzSeparator)}}const O=["*"];function F(s,m){if(1&s){const l=n.EpF();n.TgZ(0,"nz-breadcrumb-item")(1,"a",2),n.NdJ("click",function(u){const r=n.CHM(l).$implicit;return n.oxw(2).navigate(r.url,u)}),n._uU(2),n.qZA()()}if(2&s){const l=m.$implicit;n.xp6(1),n.uIk("href",l.url,n.LSH),n.xp6(1),n.Oqu(l.label)}}function J(s,m){if(1&s&&(n.ynx(0),n.YNc(1,F,3,2,"nz-breadcrumb-item",1),n.BQk()),2&s){const l=n.oxw();n.xp6(1),n.Q6J("ngForOf",l.breadcrumbs)}}class A{}let Y=(()=>{class s{constructor(l){this.nzBreadCrumbComponent=l}}return s.\u0275fac=function(l){return new(l||s)(n.Y36(A))},s.\u0275cmp=n.Xpm({type:s,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],ngContentSelectors:O,decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["noMenuTpl",""],["class","ant-breadcrumb-separator",4,"ngIf"],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nz-icon","","nzType","down",4,"ngIf"],["nz-icon","","nzType","down"],[1,"ant-breadcrumb-link"],[1,"ant-breadcrumb-separator"],[4,"nzStringTemplateOutlet"]],template:function(l,o){if(1&l&&(n.F$t(),n.YNc(0,x,4,3,"ng-container",0),n.YNc(1,D,2,0,"ng-template",null,1,n.W1O),n.YNc(3,E,2,1,"span",2)),2&l){const u=n.MAs(2);n.Q6J("ngIf",!!o.nzOverlay)("ngIfElse",u),n.xp6(3),n.Q6J("ngIf",o.nzBreadCrumbComponent.nzSeparator)}},directives:[f.O5,b.cm,f.tP,C.Ls,S.f],encapsulation:2,changeDetection:0}),s})(),W=(()=>{class s{constructor(l,o,u,a,r){this.injector=l,this.cdr=o,this.elementRef=u,this.renderer=a,this.directionality=r,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.nzRouteLabelFn=i=>i,this.breadcrumbs=[],this.dir="ltr",this.destroy$=new M.x,a.addClass(u.nativeElement,"ant-breadcrumb")}ngOnInit(){var l;this.nzAutoGenerate&&this.registerRouterChange(),null===(l=this.directionality.change)||void 0===l||l.pipe((0,y.R)(this.destroy$)).subscribe(o=>{this.dir=o,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigate(l,o){o.preventDefault(),this.injector.get(v.F0).navigateByUrl(l)}registerRouterChange(){try{const l=this.injector.get(v.F0),o=this.injector.get(v.gz);l.events.pipe((0,I.h)(u=>u instanceof v.m2),(0,y.R)(this.destroy$),(0,_.O)(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(o.root),this.cdr.markForCheck()})}catch(l){throw new Error(`${R.Bq} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(l,o="",u=[]){const a=l.children;if(0===a.length)return u;for(const r of a)if(r.outlet===v.eC){const i=r.snapshot.url.map(d=>d.path).filter(d=>d).join("/"),c=i?`${o}/${i}`:o,p=this.nzRouteLabelFn(r.snapshot.data[this.nzRouteLabel]);return i&&p&&u.push({label:p,params:r.snapshot.params,url:c}),this.getBreadcrumbs(r,c,u)}return u}prepareComponentForRtl(){"rtl"===this.dir?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}}return s.\u0275fac=function(l){return new(l||s)(n.Y36(n.zs3),n.Y36(n.sBO),n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(z.Is,8))},s.\u0275cmp=n.Xpm({type:s,selectors:[["nz-breadcrumb"]],inputs:{nzAutoGenerate:"nzAutoGenerate",nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn"},exportAs:["nzBreadcrumb"],features:[n._Bn([{provide:A,useExisting:s}])],ngContentSelectors:O,decls:2,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(l,o){1&l&&(n.F$t(),n.Hsn(0),n.YNc(1,J,2,1,"ng-container",0)),2&l&&(n.xp6(1),n.Q6J("ngIf",o.nzAutoGenerate&&o.breadcrumbs.length))},directives:[Y,f.O5,f.sg],encapsulation:2,changeDetection:0}),(0,j.gn)([(0,B.yF)()],s.prototype,"nzAutoGenerate",void 0),s})(),$=(()=>{class s{}return s.\u0275fac=function(l){return new(l||s)},s.\u0275mod=n.oAB({type:s}),s.\u0275inj=n.cJS({imports:[[f.ez,S.T,t.U8,L.e4,b.b1,C.PV],z.vT]}),s})()}}]);